#VRML V2.0 utf8

#création d'un mur prototype

PROTO mur [ field SFColor murcoul 0.4 0.5 0.5
               field SFVec3f mursize 1 2 0.05 ]
{

      Shape {
                    appearance Appearance { 
                material Material { 
                diffuseColor IS murcoul } 
            } 
            geometry Box { 
               size IS mursize 
                
              
            } 
        } 

   }


  


Group {
  children [


#lumières

 SpotLight {
              
              location 17 2 5 
              radius 1.0
              attenuation 1.0 0.0 0.0
              color 0.496094 0.496094 0.996094
                                        }

SpotLight {
              
              location 17 3 10 
              radius 1.0
              attenuation 1.0 0.0 0.0
              color 0.992188 0.492188 0.49218
                                        }

SpotLight {
              
              location 25 3 20 
              radius 1.0
              attenuation 1.0 0.0 0.0
              color 0.992188 0.492188 0
                                        }


DEF LIGHT DirectionalLight {

                   
                   intensity 0.7
                    direction -2 -1 0
                    color  0.2 0.4 1

                                         }

Background {


skyAngle     [ 0.7, 1.2, 1.6, 2.2 ]

skyColor     [ 0 0 0.9, 0 0.2 0.7, 0 0.3 0.6, 0 0.4 0.3]
 }

#création du sol

Transform {
translation 20 0 20
 children [
    Shape {
                    appearance Appearance { 
                material Material { 
                diffuseColor 1 1 1 } 
            } 
            geometry Box { 
               size 60 0.05 60 }
   }
  ]
} 

# toit
 Transform {
 translation 10 3 10
  children [
     Shape {
                     appearance Appearance { 
                 material Material { 
                 emissiveColor 1 1 1
                  transparency 1                  } 
             } 
             geometry Box { 
                size 80 0.05 80 }
    }
   ]
  }


#mur 1
  Transform {
rotation 0 1 0 1.57   
translation 15 1 2
 children [
    mur { murcoul 0.5 0.5 0.5
          mursize 2 2 0.05 }
   ]
  }

#mur 2
  Transform {
rotation 0 1 0 1.57   
translation 18 1 2
 children [
    mur { murcoul 1 0.5 0.5
          mursize 2 2 0.05 }
   ]
  }

#mur 3
  Transform {
rotation 0 1 0 0   
translation 7.5 1 3
 children [
    mur {
          mursize 15 2 0.05 }
   ]
  }


#mur 4
  Transform {
rotation 0 1 0 1.57   
translation 0 1 13.5
 children [
    mur {
          mursize 21 2 0.05 }
   ]
  }


#mur 5
  Transform {
rotation 0 1 0 0   
translation 6.5 1 6
 children [
    mur {
          mursize 7 2 0.05 }
   ]
  }


#mur 6
  Transform {
rotation 0 1 0 1.57   
translation 3 1 7.5
 children [
    mur {
          mursize 3 2 0.05 }
   ]
  }

#mur 7
  Transform {
rotation 0 1 0 1.57   
translation 7 1 7.5
 children [
    mur {
          mursize 3 2 0.05 }
   ]
  }


#mur 8
  Transform {
rotation 0 1 0 0   
translation 8.5 1 9
 children [
    mur {
          mursize 3 2 0.05 }
   ]
  }


#mur 9
  Transform {
rotation 0 1 0 0   
translation 6.5 1 12
 children [
    mur {
          mursize 7 2 0.05 }
   ]
  }


#mur 10
  Transform {
rotation 0 1 0 0   
translation 3.5 1 15
 children [
    mur {
          mursize 7 2 0.05 }
   ]
  }


#mur 11
 Transform {
rotation 0 1 0 1.57   
translation 7 1 16.5
 children [
    mur {
          mursize 3 2 0.05 }
   ]
  }


#mur 12
  Transform {
rotation 0 1 0 1.57   
translation 10 1 13.5
 children [
    mur {
          mursize 15 2 0.05 }
   ]
  }


#mur 13
  Transform {
rotation 0 1 0 0   
translation 5.5 1 18
 children [
    mur {
          mursize 3 2 0.05 }
   ]
  }


#mur 14
  Transform {
rotation 0 1 0 0   
translation 5 1 21
 children [
    mur {
          mursize 10 2 0.05 }
   ]
  }


#mur 15
  Transform {
rotation 0 1 0 1.57   
translation 14 1 7.5
 children [
    mur {
          mursize 3 2 0.05 }
   ]
  }


#mur 16
  Transform {
rotation 0 1 0 0   
translation 14 1 12
 children [
    mur {
          mursize 8 2 0.05 }
   ]
  }


#mur 17
  Transform {
rotation 0 1 0 1.57   
translation 18 1 9
 children [
    mur {
          mursize 6 2 0.05 }
   ]
  }


#mur 18
  Transform {
rotation 0 1 0 0   
translation 23 1 6
 children [
    mur {
          mursize 18 2 0.05 }
   ]
  }


#mur 19
  Transform {
rotation 0 1 0 0   
translation 26 1 3
 children [
    mur {
          mursize 16 2 0.05 }
   ]
  }


#mur 20
  Transform {
rotation 0 1 0 1.57   
translation 34 1 18.5
 children [
    mur {
          mursize 31 2 0.05 }
   ]
  }

#mur 21
  Transform {
rotation 0 1 0 0   
translation 28 1 9
 children [
    mur {
          mursize 12 2 0.05 }
   ]
  }

#mur 22
  Transform {
rotation 0 1 0 0   
translation 26.5 1 12
 children [
    mur {
          mursize 9 2 0.05 }
   ]
  }

#mur 23
  Transform {
rotation 0 1 0 1.57   
translation 31 1 14
 children [
    mur {
          mursize 4 2 0.05 }
   ]
  }

#mur 24
  Transform {
rotation 0 1 0 0   
translation 28.5 1 16
 children [
    mur {
          mursize 5 2 0.05 }
   ]
  }

#mur 25
  Transform {
rotation 0 1 0 0   
translation 28 1 19
 children [
    mur {
          mursize 12 2 0.05 }
   ]
  }

#mur 26
  Transform {
rotation 0 1 0 1.57   
translation 26 1 15
 children [
    mur {
          mursize 2 2 0.05 }
   ]
  }

#mur 27
  Transform {
rotation 0 1 0 1.57   
translation 22 1 15.5
 children [
    mur {
          mursize 7 2 0.05 }
   ]
  }

#mur 28
  Transform {
rotation 0 1 0 1.57   
translation 18 1 17
 children [
    mur {
          mursize 10 2 0.05 }
   ]
  }

#mur 29
  Transform {
rotation 0 1 0 0   
translation 24 1 22
 children [
    mur {
          mursize 12 2 0.05 }
   ]
  }

#mur 30
  Transform {
rotation 0 1 0 0   
translation 31 1 25
 children [
    mur {
          mursize 6 2 0.05 }
   ]
  }

#mur 31
  Transform {
rotation 0 1 0 1.57   
translation 28 1 26.5
 children [
    mur {
          mursize 3 2 0.05 }
   ]
  }

#mur 32
  Transform {
rotation 0 1 0 1.57   
translation 24 1 26.5
 children [
    mur {
          mursize 3 2 0.05 }
   ]
  }

#mur 33
  Transform {
rotation 0 1 0 1.57   
translation 21 1 29.5
 children [
    mur {
          mursize 3 2 0.05 }
   ]
  }

#mur 34
  Transform {
rotation 0 1 0 0   
translation 21 1 25
 children [
    mur {
          mursize 6 2 0.05 }
   ]
  }

#mur 35
  Transform {
rotation 0 1 0 1.57   
translation 18 1 29.5
 children [
    mur {
          mursize 9 2 0.05 }
   ]
  }

#mur 36
  Transform {
rotation 0 1 0 0   
translation 26 1 31
 children [
    mur {
          mursize 10 2 0.05 }
   ]
  }

#mur 37
  Transform {
rotation 0 1 0 1.57   
translation 31 1 29.5
 children [
    mur {
          mursize 3 2 0.05 }
   ]
  }

#mur 39
  Transform {
rotation 0 1 0 0   
translation 17 1 34
 children [
    mur {
          mursize 34 2 0.05 }
   ]
  }

#mur 40
  Transform {
rotation 0 1 0 1.57   
translation 26 1 32.5
 children [
    mur {
          mursize 3 2 0.05 }
   ]
  }

#mur 41
  Transform {
rotation 0 1 0 0   
translation 14 1 27
 children [
    mur {
          mursize 8 2 0.05 }
   ]
  }


#mur 42
  Transform {
rotation 0 1 0 1.57   
translation 10 1 25.5
 children [
    mur {
          mursize 3 2 0.05 }
   ]
  }

#mur 43
  Transform {
rotation 0 1 0 0   
translation 12 1 24
 children [
    mur {
          mursize 4 2 0.05 }
   ]
  }

#mur 44
  Transform {
rotation 0 1 0 1.57   
translation 14 1 19.5
 children [
    mur {
          mursize 9 2 0.05 }
   ]
  }

#mur 45
  Transform {
rotation 0 1 0 0   
translation 24 1 3
 children [
    mur {
          mursize 6 2 0.05 }
   ]
  }

#mur 46
  Transform {
rotation 0 1 0 1.57   
translation 6 1 27
 children [
    mur {
          mursize 6 2 0.05 }
   ]
  }

#mur 47
  Transform {
rotation 0 1 0 0   
translation 10 1 30.5
 children [
    mur {
          mursize 9 2 0.05 }
   ]
  }

#mur 48
  Transform {
rotation 0 1 0 1.57   
translation 3 1 30.5
 children [
    mur {
          mursize 7 2 0.05 }
   ]
  }

#mur 49
  Transform {
rotation 0 1 0 0   
translation 1.5 1 27
 children [
    mur {
          mursize 3 2 0.05 }
   ]
  }

#mur 50
  Transform {
rotation 0 1 0 1.57   
translation 0 1 30.5
 children [
    mur {
          mursize 7 2 0.05 }
   ]
  }
  
]
}


PROTO coulcor [ field SFColor corlColor 0.496094 0 0 
                field SFColor tigColor 0 0.1 0 ]
  {
        DEF corol Transform { # childs: 5
                                scale 0.5 0.5 0.5
                                children [
                                        Transform {
                                        translation 5.04511 0 -3.52256
                                        rotation 0 0 1 0
                                        scaleOrientation 0 0 1 0
                                        scale 1.17614 1 1.17761
                                        children [
                                                Shape {
                                                        appearance Appearance {
                                                                material Material {
                                                                        diffuseColor IS corlColor
                                                                }
                                                        }
                                                        geometry IndexedFaceSet { # faces: 72
                                                                convex FALSE
                                                                colorPerVertex FALSE
                                                                
                                                                coord DEF Label_000 Coordinate {
                                                                        point [
                                                                                -9.57031 6.06118 3.59375,
                                                                                -9.32067 6.06118 2.49529,
                                                                                -4.46967 -3.55271e-015 3.59375,
                                                                                -8.59618 6.06118 1.50436,
                                                                                -0.34316 6.06118 1.50436,
                                                                                0.381333 6.06118 2.49529,
                                                                                -2.89348 6.06118 6.97446,
                                                                                -4.46967 6.06118 7.14844,
                                                                                -6.04585 6.06118 6.97446,
                                                                                -9.32067 6.06118 4.69221,
                                                                                -8.20925 6.06118 2.735,
                                                                                -8.40137 6.06118 3.59375,
                                                                                -4.47601 0.78125 3.59375,
                                                                                -7.65169 6.06118 1.96031,
                                                                                -0.742763 6.06118 2.735,
                                                                                -1.30032 6.06118 1.96031,
                                                                                -4.47601 6.06118 6.37273,
                                                                                -3.263 6.06118 6.23672,
                                                                                -5.68901 6.06118 6.23672,
                                                                                -8.20925 6.06118 4.4525,
                                                                                -2.10172 6.06118 5.79455,
                                                                                -1.40372 6.06118 6.42226,
                                                                                -3.27917 2.40681 4.73569,
                                                                                -3.76289 1.47348 4.3007,
                                                                                -3.76289 2.43383 4.3007,
                                                                                -3.60226 2.78072 4.44514,
                                                                                -3.75709 2.4264 4.29427,
                                                                                -3.74887 1.45723 4.28515,
                                                                                -3.54681 1.35552 4.06102,
                                                                                -3.35343 1.39471 3.84651,
                                                                                -3.12556 1.59723 3.59375,
                                                                                -3.02654 1.74456 3.48392,
                                                                                -3.02654 2.76395 3.48392,
                                                                                -3.12556 2.59771 3.59375,
                                                                                -3.35751 2.36315 3.85104,
                                                                                -3.55338 2.31521 4.06831,
                                                                                -0.47716 6.06118 5.77653,
                                                                                -1.2169 6.06118 5.11129,
                                                                                -2.36423 3.76794 4.07952,
                                                                                -2.9044 2.89518 3.59375,
                                                                                -2.9044 1.86003 3.59375,
                                                                                -2.37763 2.61394 4.06747,
                                                                                -0.887479 5.26166 5.40754,
                                                                                -0.34316 6.06118 5.68314,
                                                                                0.381333 6.06118 4.69221,
                                                                                0.630976 6.06118 3.59375,
                                                                                -0.58056 6.06118 3.72748,
                                                                                -0.742763 6.06118 4.4525,
                                                                                -2.16874 6.06118 5.84199,
                                                                                -0.550642 6.06118 3.59375,
                                                                                -1.47158 6.06118 6.46955,
                                                                                -7.84796 6.06118 0.982919,
                                                                                -7.15339 6.06118 1.60753,
                                                                                -5.77187 3.04091 2.84991,
                                                                                -5.77187 2.01586 2.84991,
                                                                                -5.13939 3.66878 2.14834,
                                                                                -5.04075 3.85563 2.03894,
                                                                                -5.04075 2.75863 2.03894,
                                                                                -5.14214 2.58596 2.15139,
                                                                                -5.5276 2.13881 2.57897,
                                                                                -5.52285 3.17683 2.57369,
                                                                                -6.08995 6.06118 1.09541,
                                                                                -6.7809 6.06118 0.474052,
                                                                                -5.30562 3.21461 1.80075,
                                                                                -5.2942 4.34267 1.81102,
                                                                                -8.13122 6.06118 4.56092,
                                                                                -4.47601 6.06118 0.814772,
                                                                                -5.68901 6.06118 0.950785,
                                                                                -6.04585 6.06118 0.213041,
                                                                                -4.46967 6.06118 0.0390625,
                                                                                -2.10133 6.06118 1.39323,
                                                                                -1.48746 6.06118 0.712311,
                                                                                -1.62653 5.74792 0.866577,
                                                                                -3.50778 1.60011 2.95332,
                                                                                -3.50778 2.58475 2.95332,
                                                                                -3.66951 2.62684 2.80788,
                                                                                -3.65964 1.63763 2.81676,
                                                                                -3.97513 1.90172 2.53304,
                                                                                -4.32972 2.37871 2.21416,
                                                                                -4.32972 3.43357 2.21416,
                                                                                -3.98508 2.91814 2.52409,
                                                                                -2.61486 6.06118 0.31198,
                                                                                -3.20848 6.06118 0.97045,
                                                                                -3.33793 5.73506 1.11403,
                                                                                -3.28744 4.54622 1.05803,
                                                                                -2.89348 6.06118 0.213041,
                                                                                -3.263 6.06118 0.950785,
                                                                                -1.47158 6.06118 0.717947,
                                                                                -6.87681 6.06118 6.67939,
                                                                                -6.28418 6.06118 6.02203,
                                                                                -5.20631 3.34554 4.82642,
                                                                                -5.20631 2.29847 4.82642,
                                                                                -7.25498 6.06118 5.50805,
                                                                                -7.86943 6.06118 6.18962,
                                                                                -6.41901 2.86327 4.58077,
                                                                                -5.99835 2.04661 4.11416,
                                                                                -5.99835 3.08296 4.11416,
                                                                                -6.43982 4.04631 4.60385,
                                                                                -5.81257 3.00343 4.28122,
                                                                                -5.81792 1.98036 4.27641,
                                                                                -5.48938 2.06153 4.57187,
                                                                                -5.4844 3.08884 4.57634,
                                                                                -7.65169 6.06118 5.22719,
                                                                                -8.59618 6.06118 5.68314
                                                                        ]
                                                                }
                                                                coordIndex [
                                                                        0, 1, 2, -1,
                                                                        1, 3, 2, -1,
                                                                        4, 5, 2, -1,
                                                                        6, 7, 2, -1,
                                                                        7, 8, 2, -1,
                                                                        9, 0, 2, -1,
                                                                        10, 11, 12, -1,
                                                                        13, 10, 12, -1,
                                                                        14, 15, 12, -1,
                                                                        16, 17, 12, -1,
                                                                        18, 16, 12, -1,
                                                                        11, 19, 12, -1,
                                                                        20, 21, 22, 23, 24, 25, -1,
                                                                        26, 24, 23, 27, 28, 29, 30, 31, 32, 33, 34, 35, -1,
                                                                        36, 37, 38, 39, 32, 31, 40, 41, 42, -1,
                                                                        36, 43, 44, 45, 46, 47, 37, -1,
                                                                        25, 24, 26, 12, 17, 48, -1,
                                                                        35, 12, 26, -1,
                                                                        20, 25, 48, -1,
                                                                        37, 47, 38, -1,
                                                                        35, 34, 12, -1,
                                                                        38, 47, 46, 49, 39, -1,
                                                                        34, 33, 12, -1,
                                                                        33, 32, 39, 49, 14, 12, -1,
                                                                        23, 22, 50, 6, 2, 27, -1,
                                                                        36, 42, 43, -1,
                                                                        27, 2, 28, -1,
                                                                        22, 21, 50, -1,
                                                                        28, 2, 29, -1,
                                                                        42, 41, 44, 43, -1,
                                                                        29, 2, 30, -1,
                                                                        41, 40, 45, 44, -1,
                                                                        40, 31, 30, 2, 5, 45, -1,
                                                                        51, 52, 53, 54, -1,
                                                                        55, 56, 57, 58, 59, 54, 53, 60, -1,
                                                                        61, 62, 63, 57, 56, 64, -1,
                                                                        52, 51, 3, 1, 0, 9, 65, 19, 11, 10, 13, -1,
                                                                        56, 55, 12, 66, 67, 64, -1,
                                                                        64, 67, 61, -1,
                                                                        55, 60, 12, -1,
                                                                        60, 53, 52, 13, 12, -1,
                                                                        58, 57, 63, 68, 69, 2, -1,
                                                                        62, 68, 63, -1,
                                                                        59, 58, 2, -1,
                                                                        51, 54, 59, 2, 3, -1,
                                                                        70, 71, 72, 73, 74, -1,
                                                                        75, 74, 73, 76, 77, 78, 79, 80, -1,
                                                                        81, 82, 83, 79, 78, 84, -1,
                                                                        81, 85, 69, 68, 62, 61, 67, 66, 86, 82, -1,
                                                                        71, 70, 15, 14, 49, 46, 45, 5, 4, 87, -1,
                                                                        70, 74, 75, 12, 15, -1,
                                                                        82, 86, 83, -1,
                                                                        75, 80, 12, -1,
                                                                        80, 79, 83, 86, 66, 12, -1,
                                                                        73, 72, 87, 4, 2, 76, -1,
                                                                        81, 84, 85, -1,
                                                                        76, 2, 77, -1,
                                                                        72, 71, 87, -1,
                                                                        84, 78, 77, 2, 69, 85, -1,
                                                                        88, 89, 90, 91, -1,
                                                                        92, 93, 94, 95, 96, 97, -1,
                                                                        98, 96, 95, 99, 100, 91, 90, 101, -1,
                                                                        92, 102, 65, 9, 103, 93, -1,
                                                                        89, 88, 8, 7, 6, 50, 21, 20, 48, 17, 16, 18, -1,
                                                                        96, 98, 12, 19, 65, 102, 97, -1,
                                                                        97, 102, 92, -1,
                                                                        98, 101, 12, -1,
                                                                        101, 90, 89, 18, 12, -1,
                                                                        99, 95, 94, 103, 9, 2, -1,
                                                                        93, 103, 94, -1,
                                                                        100, 99, 2, -1,
                                                                        88, 91, 100, 2, 8, -1
                                                                ]
                                                        }
                                                }
                                        ]
                                }
                                


          Transform {
                
                scale 1.5 1.5 1
                children [
                DEF tige Transform {
                translation -0.2 -1.5 0.8
                rotation 0 1 0 0
                children [
                Shape {
                  appearance Appearance {
                     material Material {
                        diffuseColor IS tigColor
                                        }
                                }
                        geometry Cylinder {
                                height 4
                                radius 0.3
                                }
                        }
                     ]
                   }

                DEF feuille Transform {
                translation -1.5 -2.7 0.8
                rotation 0 0 1 -0.5
                #scaleOrientation 0 1 0 0
                scale 2 1 1
                children [
                Shape {
                appearance Appearance {
                     material Material {
                        diffuseColor IS tigColor
                                        }
                                }
                geometry Cylinder {
                        height 0.1
                        radius 1
                        }
                     }
                ]
             }
                Transform {
                rotation 0 0 1 0.9
                children USE feuille  }
        ]  
        }
        
                
                 DEF pistil Transform {
                 translation -0.2 3 0.8
                rotation 0 0 1 0.15
                children [
                Shape {
                appearance Appearance {
                     material Material {
                        diffuseColor 0.5 0.5 1
                                        }
                                }
                geometry Cylinder {
                   height 4
                   radius 0.13
                        }
                      }
                        
                Transform {
                translation 0.05 2.1 0
                 children [
                Shape {
                appearance Appearance {
                     material Material {
                        diffuseColor 0.5 1 1
                                        }
                                }
                        geometry Sphere {
                        radius 0.24 }
                        
                     }
                   ]
                  } 
                ]
                  }
                Transform {
                rotation 0 0 1 0.15
                children USE pistil }
                Transform {
                rotation 1 0 0 0.15
                children USE pistil }  ] }
} # fin du proto

Transform {
translation 2.7 0.5 12 
scale 0.15 0.15 0.15
children [

coulcor { corlColor 0 0 1   }
   ]
 }
Transform {
translation 29 0.5 24 
scale 0.15 0.15 0.15
children [

coulcor { corlColor 0.5 0 0   }
   ]
 }

